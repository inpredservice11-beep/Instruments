# 🛠️ Tool Management System

Современная система учета выдачи и возврата инструментов с интуитивным графическим интерфейсом на Python.

## ✨ Основные возможности

### 📋 Управление активами
- **Инструменты**: Добавление, редактирование, удаление с поддержкой фотографий
- **Сотрудники**: Полное управление персоналом с контактной информацией
- **Адреса выдачи**: Гибкая система управления локациями

### 🔄 Операции с инструментами
- **Выдача**: Указание адреса, сотрудника и ожидаемой даты возврата
- **Возврат**: Оформление возврата с примечаниями
- **Массовая сдача**: Одновременный возврат нескольких инструментов
- **Контроль сроков**: Автоматическое выделение просроченных выдач

### 📊 Аналитика и отчеты
- **История операций**: Полная история с фильтрацией по типам и датам
- **Статистика**: Подробные отчеты по использованию и категориям
- **Графики**: Визуализация данных с диаграммами и трендами
- **Экспорт**: PDF, Excel, XML, JSON форматы

### 🔍 Дополнительные функции
- **Штрих-коды**: Генерация и сканирование
- **Поиск и сортировка**: По всем полям с сохранением настроек
- **Фотографии**: Предпросмотр изображений инструментов
- **Резервное копирование**: Автоматическое создание бэкапов
- **Импорт данных**: CSV импорт с проверкой дубликатов

## 🚀 Быстрый старт

### 📋 Системные требования
- **Python**: 3.7 или выше
- **ОС**: Windows, macOS, Linux
- **GUI**: tkinter (входит в стандартную поставку Python)

### 📦 Установка зависимостей

```bash
# Клонируйте репозиторий
git clone <repository-url>
cd tool-management-system

# Установите зависимости
pip install -r requirements.txt
```

### ▶️ Запуск приложения

```bash
python app.py
```

> **💡 Примечание**: При первом запуске автоматически создается база данных с тестовыми данными (сотрудники, инструменты, операции).

## 📁 Структура проекта

```
📦 tool-management-system/
├── 🖥️ app.py                     # Главное приложение с графическим интерфейсом
├── 🗄️ database_manager.py        # Менеджер базы данных SQLite
├── 💬 dialogs.py                 # Диалоговые окна и формы
├── 📄 pdf_export.py              # Экспорт отчетов в PDF
├── 📊 excel_export.py            # Экспорт данных в Excel
├── ⚙️ window_config.py           # Управление настройками окон
├── 📋 requirements.txt           # Список зависимостей Python
├── 🔧 tool_management.db         # База данных (создается автоматически)
│
├── 📂 database/                  # SQL скрипты и схема БД
│   ├── 🏗️ 01_create_tables.sql   # Создание таблиц
│   └── 📝 02_insert_sample_data.sql # Тестовые данные
│
├── 📸 photos/                    # Медиа-файлы
│   ├── 👥 employees/             # Фотографии сотрудников
│   └── 🛠️ instruments/           # Фотографии инструментов
│
└── 📖 README.md                  # Документация проекта
```

## 🗃️ Архитектура базы данных

### Основные таблицы

| Таблица | Описание | Ключевые поля |
|---------|----------|---------------|
| **instruments** | Инструменты | `inventory_number` (уникальный), `name`, `status` |
| **employees** | Сотрудники | `full_name`, `position`, `department` |
| **addresses** | Адреса выдачи | `name`, `full_address` |
| **issues** | Выдачи инструментов | `instrument_id`, `employee_id`, даты |
| **operation_history** | История операций | `operation_type`, `operation_date` |

### Статусы инструментов
- 🟢 **Доступен** - готов к выдаче
- 🟡 **Выдан** - находится у сотрудника
- 🔧 **На ремонте** - техническое обслуживание
- ❌ **Списан** - выведен из эксплуатации

## 🎯 Руководство пользователя

### 🛠️ Управление инструментами
**Основные операции:**
- ➕ Добавление новых инструментов с фотографиями
- ✏️ Быстрое редактирование двойным кликом
- 🗑️ Удаление (только если нет активных выдач)
- 🔍 Поиск по названию, инвентарному номеру или категории
- 📸 Предпросмотр фотографий при наведении курсора

### 👥 Управление персоналом
**Функции:**
- 👤 Добавление и редактирование сотрудников
- 📞 Контактная информация (телефон, email)
- 🏢 Структура по отделам и должностям
- 🔍 Поиск по ФИО, должности или отделу

### 📤 Выдача инструментов
**Процесс выдачи:**
1. Выберите инструмент и сотрудника
2. Укажите адрес выдачи
3. Задайте ожидаемую дату возврата
4. Добавьте примечания при необходимости

**Особенности:**
- ✅ Проверка доступности инструмента
- 📊 Статистика по выдачам
- 📄 Экспорт журнала в PDF

### 📥 Возврат инструментов
**Функции:**
- 🔴 **Просроченные выдачи выделены красным**
- 🔄 Массовая сдача нескольких инструментов
- 📅 Отображение срока использования
- 📝 Возврат с примечаниями

### 🏢 Адреса выдачи
**Управление локациями:**
- 📍 Добавление новых адресов
- ✏️ Редактирование информации
- 🗑️ Удаление неиспользуемых адресов
- 🔍 Поиск по названию или адресу

### 📚 История операций
**Аналитика:**
- 📋 Полная история всех операций
- 🔽 Фильтр по типу (Выдача/Возврат)
- 📅 Фильтр по диапазону дат
- 🟡 Выдачи выделены желтым
- 🟢 Возвраты выделены зеленым
- 📄 Экспорт в PDF и Excel

### 📊 Аналитика и статистика

#### 📈 Визуальные отчеты
- **Динамика операций** - график за последний год
- **Активные выдачи** - тренд за 30 дней
- **Просрочки по категориям** - круговая диаграмма
- **Использование адресов** - столбчатая диаграмма

#### 📋 Статистические данные
- Общая статистика системы
- Популярные инструменты и сотрудники
- Среднее время использования
- Распределение по категориям

### 💾 Импорт и экспорт данных

#### 📥 Импорт из CSV
```bash
Файл → Импорт данных из CSV
```
**Особенности:**
- ✅ Проверка дубликатов по уникальным полям
- 📊 Подробная статистика импорта
- 🔄 Автоматическое обновление таблиц

#### 📤 Экспорт данных
- **CSV** - все данные системы
- **XML/JSON** - структурированные данные
- **PDF/Excel** - отчеты и журналы

### 🔐 Резервное копирование
- 💾 **Создание бэкапа**: `Файл → Создать резервную копию`
- 🔄 **Восстановление**: `Файл → Восстановить из резервной копии`

## ⚡ Дополнительные возможности

### 🎛️ Интерфейс
- **Сортировка таблиц** - клик по заголовку с индикаторами ▲▼
- **Сохранение настроек** - размеры и позиции окон запоминаются
- **High DPI поддержка** - четкие шрифты на всех дисплеях
- **MS Office стиль** - знакомый и интуитивный интерфейс

### 🔒 Безопасность и надежность
- **Проверка доступности** - защита от двойной выдачи
- **Защита от удаления** - нельзя удалить используемые объекты
- **Автоматические бэкапы** - перед восстановлением
- **Валидация данных** - проверка корректности ввода

### 🎨 Удобство использования
- **Быстрое редактирование** - двойной клик для редактирования
- **Предпросмотр фото** - наведение курсора на инструмент
- **Масштабирование изображений** - автоматическая подгонка
- **Прокручиваемые формы** - для длинных диалогов

## 🧪 Тестовые данные

При первом запуске система автоматически создает демонстрационные данные:

| Сущность | Количество | Примечание |
|----------|------------|------------|
| Адреса выдачи | 3 | Различные локации |
| Инструменты | 20+ | Разные категории, уникальные номера |
| Сотрудники | 8 | С контактной информацией |
| Активные выдачи | 3 | С указанием адресов |

## 🏗️ Архитектура системы

```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   Presentation  │    │   Business      │    │     Data        │
│     Layer       │    │    Logic        │    │    Layer        │
│                 │    │                 │    │                 │
│  • app.py       │◄──►│ • dialogs.py    │◄──►│ • database_     │
│  • window_      │    │ • pdf_export.py │    │   manager.py    │
│    config.py    │    │ • excel_export. │    │ • SQLite DB     │
└─────────────────┘    │   py            │    └─────────────────┘
                       └─────────────────┘
```

### 🎯 Принципы архитектуры
- **Модульность** - четкое разделение ответственности
- **Расширяемость** - легкое добавление новых функций
- **Переиспользование** - компоненты для повторного использования
- **Поддерживаемость** - читаемый и понятный код

## 📋 Технические детали

### 🔧 Зависимости
- `tkinter` - графический интерфейс
- `tkcalendar` - виджет календаря
- `reportlab` - генерация PDF
- `openpyxl` - работа с Excel
- `Pillow` - обработка изображений
- `matplotlib` - построение графиков
- `python-barcode` - генерация штрих-кодов

### 💾 База данных
- **Тип**: SQLite3
- **Файл**: `tool_management.db`
- **Создание**: автоматическое при первом запуске
- **Миграции**: SQL скрипты в папке `database/`

## 📞 Поддержка

Если у вас возникли вопросы или проблемы:
1. Проверьте [документацию](#-руководство-пользователя)
2. Убедитесь, что все зависимости установлены
3. Проверьте логи приложения

## 📄 Лицензия

**MIT License** - свободное использование и модификация проекта.

---

<div align="center">

**Создано с ❤️ на Python и tkinter**

*Упрощаем управление инструментами с 2024 года*

</div>

